// Document Ready
function initGraph(){var e=$.url().param();$(e).keys().each(function(t,n){$("#graphoptions").append($("<input>").attr({type:"hidden",name:n,value:e[n]}))});var t={setupfile:"StateDEM",image:{graphdiv:"graphs",zoomlevels:"8",zoomSliderAxis:"vertical"},list:{listdiv:"lists",scrollList:1,sort:{candidates:[{label:"Amount",sort_values:[["value","descending"]]},{label:"Name",sort_values:[function(e){return e.candidate_name.split(" ").pop()}]},{label:"Party",sort_values:["party",["value","descending"]]}],donors:[{label:"Amount",sort_values:[["value","descending"]]},{label:"Name",sort_values:["company_name"]},{label:"Industry",sort_values:["industry",["value","descending"]]}]}}};gf=new NodeViz(t)}$(function(){initGraph();$("#pull").click(function(e){$(".navlist").slideToggle();e.preventDefault()});$(window).resize(function(){$(window).width()>320&&$(".navlist").is(":hidden")&&$(".navlist").removeAttr("style")})});$.extend(NodeViz.prototype,{graphLoaded:function(){},afterInit:function(){}});$.extend(GraphList.prototype,{listNodeEntry:function(e){var t,n="";e.label?t=e.label:t=e.id;var r="",i="<span class='chip "+(typeof e.party!="undefined"?e.party:"contrib_"+e.contributor_type)+"'></span>",s=typeof e.image!="undefined"&&e.image!="null"?"<img src='"+e.image+"' style='width: 20px; border: 1px solid #666;'/>":"";if(e.type=="candidates"){if(e.party){r="<span class='info'>"+e.party+"</span>";r+="<div class='details'>					<a class='profile_link' href='?candidate_ids="+e.id+"'><img class='link_icon' src='images/go-next.png'/>Profile</a>					<a class='nimsp_link' href='http://www.followthemoney.org/database/uniquecandidate.phtml?uc="+e.unique_candidate_id+"' target='_new'><img class='link_icon' src='images/go-next.png'/>NIMSP Profile</a>				</div>"}}else{var o="Unknown";e.industry!="--"&&(o=e.industry);r+="<a class='profile_link' href='?company_ids="+e.id+"'><img class='link_icon' src='images/go-next.png'/>Profile</a>";r+="<span class='industry'>"+o+"</span><br style='clear:both'/>"}return s+"<span class='label'>"+t+"</span><span class='amount'>$"+format(Math.round(e.total_dollars))+"</span><br/>"+i+r},listSubNodeEntry:function(e,t,n,r){var i,s=r=="to"?"to_node_item":"from_node_item";e.label?i=e.label:i=e.id;var o="Uncategorized",u=this.NodeViz.data.edges[e.relatedNodes[t.id][0]];e.type=="candidates"?e.party&&(o=e.party):e.contributor_type&&(e.contributor_type=="I"?o="Individual":e.contributor_type=="C"&&(o="PAC"));o="<span class='info'>"+o+"</span>";var a="<span class='chip "+(typeof e.party!="undefined"?e.party:"contrib_"+e.contributor_type)+"'></span>",f="<span class='details_link'><img src='NodeViz/icons/magnifier.png' alt='View Details' title='View Details'/></span>";return"<span class='"+s+" label' onclick=\"gf.selectNode('"+e.id+"'); gf.panToNode('"+e.id+"');\">"+i+"</span><span class='amount'>$"+format(Math.round(u.value))+"</span><br/>"+a+o+f},sublistHeader:function(e,t,n){var r="Recipients";n=="to"&&(r="Donors");return"<div class='sublist_header'>"+r+"</div>"}});